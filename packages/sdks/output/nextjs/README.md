# Builder.io React NextJS SDK (BETA)

This is the Builder NextJS SDK, `@builder.io/sdk-react-nextjs`. It is intended to be used _only_ with NextJS's app directory, and has hard dependencies on NextJS-specific functionality that only works in the app directory.

Note: you can use _any_ Builder React SDK with Next.js. Our [Gen1](../../../react/) and [Gen2](../react/) SDKs both work with Next.js (pages router or app router). This SDK, though, is the only one that supports [registering](<[url](https://www.builder.io/c/docs/custom-components-setup)>) server components, and also includes nearly 0 client side JS runtime. Our other SDKs only support registering client components in React, due to how RSC's runtime works.

## API Reference

To use the SDK, you need to:

- fetch the builder data using `getContent`: you can see how to use it here https://www.builder.io/c/docs/content-api, and how it differs from the React V1 SDK's `builder.get()` function.

- pass that data to the `RenderContent` component, along with the following properties:

```ts
type RenderContentProps = {
  content?: Nullable<BuilderContent>;
  model?: string;
  data?: { [key: string]: any };
  context?: BuilderRenderContext;
  apiKey: string;
  apiVersion?: ApiVersion;
  customComponents?: RegisteredComponent[];
  canTrack?: boolean;
  locale?: string;
  includeRefs?: boolean;
};
```

Here is a simplified example showing how you would use both. This needs to be created created with the name `app/[[...slug]]/page.tsx`, so it catches all routes:

```tsx
import {
  RenderContent,
  getBuilderSearchParams,
  getContent,
} from '@builder.io/sdk-react-nextjs';

interface MyPageProps {
  params: {
    slug: string[];
  };
  searchParams: Record<string, string>;
}

const apiKey = 'YOUR_API_KEY_HERE';

export default async function Page(props: MyPageProps) {
  const urlPath = '/' + (props.params?.slug?.join('/') || '');

  const content = await getContent({
    model: 'page',
    apiKey,
    options: getBuilderSearchParams(props.searchParams),
    userAttributes: { urlPath },
  });

  return <RenderContent content={content} model="page" apiKey={apiKey} />;
}
```

Look at the [examples](#examples) for more information.

## Mitosis

This SDK is generated by [Mitosis](https://github.com/BuilderIO/mitosis). To see the Mitosis source-code, go [here](../../).

## Feature Support

To check the status of the SDK, look at [these tables](../../README.md#feature-implementation).

## Getting Started

```
npm install @builder.io/sdk-react-nextjs
```

## Examples

- [Next.js SDK](../../../../examples/next-js-sdk-gen-2-experimental-app-directory)
